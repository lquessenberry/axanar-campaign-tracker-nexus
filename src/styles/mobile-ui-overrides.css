/* Mobile UI Component Overrides */
/* Tightens up shadcn/ui components for better mobile UX */

@media (max-width: 768px) {
  /* ============= DIALOGS & SHEETS ============= */
  
  /* Make dialogs/sheets more mobile-friendly */
  [role="dialog"] {
    max-width: calc(100vw - 1.5rem) !important;
    max-height: calc(100dvh - 2rem) !important;
    margin: 1rem 0.75rem !important;
    border-radius: 12px !important;
  }
  
  /* Full-height sheets for mobile */
  [data-vaul-drawer] {
    max-height: 95dvh !important;
    border-radius: 16px 16px 0 0 !important;
  }
  
  /* Dialog/sheet headers */
  [role="dialog"] > div:first-child,
  [data-vaul-drawer] > div:first-child {
    padding: 0.625rem !important;
    position: sticky;
    top: 0;
    z-index: 10;
    background: hsl(var(--background));
    border-bottom: 1px solid hsl(var(--border));
  }
  
  /* Dialog/sheet content */
  [role="dialog"] > div:nth-child(2),
  [data-vaul-drawer] > div:nth-child(2) {
    padding: 0 0.625rem 0.625rem 0.625rem !important;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Dialog/sheet footers */
  [role="dialog"] > div:last-child,
  [data-vaul-drawer] > div:last-child {
    padding: 0.625rem !important;
    position: sticky;
    bottom: 0;
    z-index: 10;
    background: hsl(var(--background));
    border-top: 1px solid hsl(var(--border));
  }
  
  /* ============= DROPDOWN MENUS ============= */
  
  [role="menu"],
  [role="listbox"] {
    max-width: calc(100vw - 2rem);
    max-height: 60vh;
    overflow-y: auto;
    font-size: 1rem;
    z-index: 100 !important;
    background: hsl(var(--popover)) !important;
    border: 1px solid hsl(var(--border)) !important;
  }
  
  [role="menuitem"],
  [role="option"] {
    min-height: 44px;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  
  /* ============= TABS ============= */
  
  [role="tablist"] {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  [role="tablist"]::-webkit-scrollbar {
    display: none;
  }
  
  [role="tab"] {
    min-height: 44px;
    padding: 12px 20px;
    white-space: nowrap;
    font-size: 0.9375rem;
    font-weight: 500;
  }
  
  /* ============= CARDS ============= */
  
  [class*="card"] {
    border-radius: 8px;
    margin-bottom: 0.5rem;
  }
  
  [class*="card-header"] {
    padding: 0.625rem;
  }
  
  [class*="card-content"] {
    padding: 0 0.625rem 0.625rem 0.625rem;
  }
  
  [class*="card-footer"] {
    padding: 0.5rem 0.625rem 0.625rem 0.625rem;
  }
  
  /* ============= BUTTONS ============= */
  
  button,
  [role="button"] {
    min-height: 44px;
    padding: 10px 16px;
    font-size: 1rem;
    font-weight: 500;
  }
  
  /* Icon-only buttons */
  button[aria-label]:not(:has(span)),
  [role="button"][aria-label]:not(:has(span)) {
    min-width: 44px;
    min-height: 44px;
    padding: 10px;
  }
  
  /* ============= FORM ELEMENTS ============= */
  
  input:not([type="checkbox"]):not([type="radio"]),
  textarea,
  select {
    font-size: 16px !important;
    min-height: 44px;
    padding: 10px 14px;
  }
  
  textarea {
    min-height: 120px;
  }
  
  /* ============= NAVIGATION ============= */
  
  nav {
    -webkit-overflow-scrolling: touch;
  }
  
  /* ============= SCROLL AREAS ============= */
  
  [data-radix-scroll-area-viewport] {
    -webkit-overflow-scrolling: touch;
  }
  
  /* ============= TOOLTIPS ============= */
  
  [role="tooltip"] {
    font-size: 0.875rem;
    padding: 8px 12px;
    max-width: calc(100vw - 2rem);
  }
  
  /* ============= POPOVERS ============= */
  
  [role="dialog"][data-radix-popper-content-wrapper] {
    max-width: calc(100vw - 2rem) !important;
  }
  
  /* ============= AVATARS ============= */
  
  [class*="avatar"] {
    width: 40px;
    height: 40px;
  }
  
  /* ============= BADGES ============= */
  
  [class*="badge"] {
    font-size: 0.75rem;
    padding: 2px 8px;
    min-height: 20px;
  }
  
  /* ============= LISTS ============= */
  
  ul:not([role]),
  ol:not([role]) {
    padding-left: 1.25rem;
  }
  
  li {
    margin-bottom: 0.5rem;
  }
  
  /* Interactive list items */
  li > a,
  li > button {
    display: block;
    min-height: 44px;
    padding: 0.75rem;
    margin: -0.75rem;
  }
  
  /* ============= SPACING FIXES ============= */
  
  /* Reduce excessive padding */
  .space-y-8 > * + * {
    margin-top: 0.75rem;
  }
  
  .space-y-6 > * + * {
    margin-top: 0.625rem;
  }
  
  .space-y-4 > * + * {
    margin-top: 0.5rem;
  }
  
  .gap-8 {
    gap: 0.75rem;
  }
  
  .gap-6 {
    gap: 0.625rem;
  }
  
  .gap-4 {
    gap: 0.5rem;
  }
  
  /* ============= GRID IMPROVEMENTS ============= */
  
  /* Force single column on mobile */
  .grid-cols-2,
  .grid-cols-3,
  .grid-cols-4 {
    grid-template-columns: 1fr !important;
  }
  
  /* Allow explicit mobile columns */
  .mobile-grid-cols-2 {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  /* ============= TEXT OVERFLOW ============= */
  
  /* Better text wrapping */
  h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
    word-wrap: break-word;
    hyphens: auto;
  }
  
  /* Prevent horizontal overflow */
  * {
    max-width: 100%;
  }
  
  img,
  video,
  svg {
    height: auto;
  }
}

/* ============= ACCESSIBILITY IMPROVEMENTS ============= */

/* Larger tap targets for links within text */
@media (max-width: 768px) {
  p a,
  li a {
    padding: 4px 2px;
    margin: -4px -2px;
    display: inline-block;
  }
}

/* Better focus indicators for all devices */
@media (hover: none) {
  /* Touch devices - stronger focus */
  :focus-visible {
    outline: 3px solid hsl(var(--primary)) !important;
    outline-offset: 2px !important;
  }
}