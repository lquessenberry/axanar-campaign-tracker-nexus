/* Mobile UI Component Overrides */
/* Tightens up shadcn/ui components for better mobile UX */

@media (max-width: 768px) {
  /* ============= DIALOGS & SHEETS ============= */

  /* Make dialogs/sheets more mobile-friendly */
  [role="dialog"] {
    max-width: calc(100vw - 1.5rem) !important;
    max-height: calc(100dvh - 2rem) !important;
    margin: 1rem 0.75rem !important;
    border-radius: 12px !important;
  }

  /* Full-height sheets for mobile */
  [data-vaul-drawer] {
    max-height: 95dvh !important;
    border-radius: 16px 16px 0 0 !important;
  }

  /* Dialog/sheet headers */
  [role="dialog"] > div:first-child,
  [data-vaul-drawer] > div:first-child {
    padding: 0.625rem !important;
    position: sticky;
    top: 0;
    z-index: 10;
    background: hsl(var(--background));
    border-bottom: 1px solid hsl(var(--border));
  }

  /* Dialog/sheet content */
  [role="dialog"] > div:nth-child(2),
  [data-vaul-drawer] > div:nth-child(2) {
    padding: 0 0.625rem 0.625rem 0.625rem !important;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Dialog/sheet footers */
  [role="dialog"] > div:last-child,
  [data-vaul-drawer] > div:last-child {
    padding: 0.625rem !important;
    position: sticky;
    bottom: 0;
    z-index: 10;
    background: hsl(var(--background));
    border-top: 1px solid hsl(var(--border));
  }

  /* ============= DROPDOWN MENUS ============= */

  [role="menu"],
  [role="listbox"] {
    max-width: calc(100vw - 2rem);
    max-height: 60vh;
    overflow-y: auto;
    font-size: 1rem;
    z-index: 100 !important;
    background: hsl(var(--popover)) !important;
    border: 1px solid hsl(var(--border)) !important;
  }

  [role="menuitem"],
  [role="option"] {
    min-height: 44px;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  /* ============= TABS ============= */

  [role="tablist"] {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  [role="tablist"]::-webkit-scrollbar {
    display: none;
  }

  [role="tab"] {
    min-height: 44px;
    padding: 12px 20px;
    white-space: nowrap;
    font-size: 0.9375rem;
    font-weight: 500;
  }

  /* ============= CARDS ============= */
  /* Removed: global card padding overrides that conflicted with shadcn Card */
  /* Use .mobile-card class for explicit mobile card styling */

  /* ============= BUTTONS ============= */
  /* Removed: global button size overrides that conflicted with shadcn variants */
  /* Use .touch-target or .mobile-button classes for explicit large touch targets */

  /* ============= FORM ELEMENTS ============= */

  input:not([type="checkbox"]):not([type="radio"]),
  textarea,
  select {
    font-size: 16px !important;
    min-height: 44px;
    padding: 10px 14px;
  }

  textarea {
    min-height: 120px;
  }

  /* ============= NAVIGATION ============= */

  nav {
    -webkit-overflow-scrolling: touch;
  }

  /* ============= SCROLL AREAS ============= */

  [data-radix-scroll-area-viewport] {
    -webkit-overflow-scrolling: touch;
  }

  /* ============= TOOLTIPS ============= */

  [role="tooltip"] {
    font-size: 0.875rem;
    padding: 8px 12px;
    max-width: calc(100vw - 2rem);
  }

  /* ============= POPOVERS ============= */

  [role="dialog"][data-radix-popper-content-wrapper] {
    max-width: calc(100vw - 2rem) !important;
  }

  /* ============= AVATARS ============= */
  /* Removed: forced avatar sizing that broke component-level sizes */

  /* ============= BADGES ============= */
  /* Removed: forced badge sizing that broke shadcn Badge variants */

  /* ============= SPACING FIXES ============= */
  /* Removed: global spacing overrides that broke Tailwind utility classes */

  /* ============= GRID IMPROVEMENTS ============= */
  /* Removed: forced single-column grid that broke responsive Tailwind grids */
  /* Use Tailwind's responsive grid-cols-1 sm:grid-cols-2 instead */

  /* ============= TEXT OVERFLOW ============= */
  /* Removed: global max-width:100% on * that broke positioned/flex elements */
}

/* ============= ACCESSIBILITY IMPROVEMENTS ============= */

/* Larger tap targets for links within text */
@media (max-width: 768px) {
  p a,
  li a {
    padding: 4px 2px;
    margin: -4px -2px;
    display: inline-block;
  }
}

/* Better focus indicators for all devices */
@media (hover: none) {
  /* Touch devices - stronger focus */
  :focus-visible {
    outline: 3px solid hsl(var(--primary)) !important;
    outline-offset: 2px !important;
  }
}
